import { Router } from "express";
import middlewareHandler from "../../src/middlewares/_middleware.js";
import control from "../../src/utils/control.js";
import sanitizeAndValidate from "../../src/validations/_validate.js";
import rentalController from "../../src/controllers/rentalController.js";
import rentalValidation from "../../src/validations/rentalValidation.js";
const router = Router();
router.get("/", control(rentalController.index));
router.get("/:rentalId", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.selectedRental), control(rentalController.selected));
router.post("/", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.createRental), control(rentalController.create));
router.put("/:rentalId", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.updateRental), control(rentalController.update));
router.patch("/:rentalId", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.updateRental), control(rentalController.update));
router.delete("/:rentalId", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.destroyRental), control(rentalController.destroy));
router.delete("/:rentalId/force", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.destroyRental), control(rentalController.destroyNotRestoreToolsStock));
router.patch("/:rentalId/clear", middlewareHandler("auth"), sanitizeAndValidate(rentalValidation.selectedRental), control(rentalController.clear));
export default router;
